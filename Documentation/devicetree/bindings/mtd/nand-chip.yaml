# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/mtd/nand-chip.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: NAND Chip and NAND Controller Generic Binding

maintainers:
  - Miquel Raynal <miquel.raynal@bootlin.com>

description: |
  This file covers the generic description of a NAND chip. It implies that the
  bus interface should not be taken into account: both raw NAND devices and
  SPI-NAND devices are concerned by this description.

properties:
  reg:
    description:
      Contains the chip-select IDs.

  nand-ecc-engine:
    $ref: /schemas/types.yaml#/definitions/phandle
    description: |
      A phandle on the hardware ECC engine if any. There are
      basically three possibilities:
      1/ The ECC engine is part of the NAND controller, in this
      case the phandle should reference the parent node.
      2/ The ECC engine is part of the NAND part (on-die), in this
      case the phandle should reference the node itself.
      3/ The ECC engine is external, in this case the phandle should
      reference the specific ECC engine node.

  nand-use-soft-ecc-engine:
    type: boolean
    description: Use a software ECC engine.

  nand-no-ecc-engine:
    type: boolean
    description: Do not use any ECC correction.

  nand-ecc-algo:
    $ref: /schemas/types.yaml#/definitions/string
    description:
      Desired ECC algorithm.
    enum: [hamming, bch, rs]

  nand-ecc-strength:
    $ref: /schemas/types.yaml#/definitions/uint32
    description:
      Maximum number of bits that can be corrected per ECC step.
    minimum: 1

  nand-ecc-step-size:
    $ref: /schemas/types.yaml#/definitions/uint32
    description:
      Number of data bytes covered by a single ECC step.
    minimum: 1

  secure-regions:
    $ref: /schemas/types.yaml#/definitions/uint64-matrix
    description:
      Regions in the NAND chip which are protected using a secure element
      like Trustzone. This property contains the start address and size of
      the secure regions present.

required:
  - reg

additionalProperties: true
